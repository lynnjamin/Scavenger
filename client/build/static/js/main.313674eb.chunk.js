(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/loading.c5590569.svg"},136:function(e,t,a){e.exports=a(337)},141:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},225:function(e,t,a){},245:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},314:function(e,t,a){},337:function(e,t,a){"use strict";a.r(t);var n=a(26),o=a.n(n),r=(a(141),a(142),a(0)),c=a.n(r),l=a(36),i=a(16),s=a(17),u=a(20),m=a(19),h=a(21),d=a(338),p=(a(143),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"goTo",value:function(e){this.props.history.replace("/".concat(e))}},{key:"login",value:function(){this.props.auth.login()}},{key:"logout",value:function(){this.props.auth.logout()}},{key:"componentDidMount",value:function(){var e=this.props.auth.renewSession;"true"===localStorage.getItem("isLoggedIn")&&e()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return c.a.createElement("div",{className:"container landingContainer"},c.a.createElement("header",null,c.a.createElement("h1",{className:"titleh1"},"Scavenger")),c.a.createElement("div",{className:"descriptionBox"},c.a.createElement("p",null,"A build your own scavenger hunt app")),c.a.createElement("div",{className:"landingLogin"},!e()&&c.a.createElement(d.a,{id:"qsLoginBtn",variant:"dark",className:"btn-margin",onClick:this.login.bind(this)},"Log In"),e()&&c.a.createElement(d.a,{variant:"dark",className:"btn-margin landingHomeButton",onClick:this.goTo.bind(this,"home")},"Home"),e()&&c.a.createElement(d.a,{id:"qsLogoutBtn",variant:"dark",className:"btn-margin",onClick:this.logout.bind(this)},"Log Out")))}}]),t}(r.Component)),g=(a(144),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"goTo",value:function(e){this.props.history.replace("/".concat(e))}},{key:"login",value:function(){this.props.auth.login()}},{key:"logout",value:function(){this.props.auth.logout()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(p,{auth:this.props.auth,history:this.props.history}))}}]),t}(r.Component)),v=a(30),f=(a(145),a(31)),b=a.n(f),E=a(9),y=Object(E.createMuiTheme)({palette:{primary:{main:"#00897b"}},typography:{useNextVariants:!0}}),k=Object(E.createMuiTheme)({palette:{primary:{main:"#d84315"}},typography:{useNextVariants:!0}}),C=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container contentContainer"},c.a.createElement("title",null,"Create or Play"),c.a.createElement("header",null,c.a.createElement("h1",{className:"titleh1"},"Scavenger")),c.a.createElement("p",{className:"def"},"Create a Scavenger hunt of your own or play one that's already been created. "),c.a.createElement(v.a,{to:"/create",className:"createLink",style:{textDecoration:"none"}},c.a.createElement(E.MuiThemeProvider,{theme:y},c.a.createElement(b.a,{variant:"contained",color:"primary",className:"createButton"},"Create"))),c.a.createElement("br",null),c.a.createElement(v.a,{to:"/chooseGame",className:"playLink",style:{textDecoration:"none"}},c.a.createElement(E.MuiThemeProvider,{theme:k},c.a.createElement(b.a,{variant:"contained",color:"primary",className:this.props.classes.huntStyleButton},"Hunt"))))}}]),t}(r.Component),O=Object(E.withStyles)({huntStyleButton:{margin:"20px"}})(C),N=(a(225),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"login",value:function(){this.props.auth.login()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},e()&&c.a.createElement(O,null),!e()&&c.a.createElement("div",{className:"loggedOutContainer"},c.a.createElement("h1",{className:"titleh1"},"Scavenger"),c.a.createElement("h4",null,"You are not logged in! Please"," ",c.a.createElement("div",{style:{cursor:"pointer",color:"#eeeeee"},onClick:this.login.bind(this)},"Log In")," ","to continue."))))}}]),t}(r.Component)),j=a(129),w=a.n(j),T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{style:{position:"absolute",display:"flex",justifyContent:"center",height:"100vh",width:"100vw",top:0,bottom:0,left:0,right:0,backgroundColor:"white"}},c.a.createElement("img",{src:w.a,alt:"loading"}))}}]),t}(r.Component),S=(0,a(27).createBrowserHistory)(),x=a(130),G={domain:"lynnjamint.auth0.com",clientId:"cwVXg8Y39wZ6yUNJSnaOdJ0bCwMuf301",callbackUrl:"http://localhost:3000/callback"},B=a(32),I=a.n(B),M=function(){function e(){Object(i.a)(this,e),this.auth0=new x.a.WebAuth({domain:G.domain,clientID:G.clientId,redirectUri:G.callbackUrl,responseType:"token id_token",audience:"https://lynnjamint.auth0.com/userinfo",scope:"openid profile"}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this.getIdToken=this.getIdToken.bind(this),this.renewSession=this.renewSession.bind(this)}return Object(s.a)(e,[{key:"login",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;this.auth0.parseHash(function(t,a){a&&a.accessToken&&a.idToken?e.setSession(a):t&&(S.replace("/home"),console.log(t),alert("Error: ".concat(t.error,". Check the console for further details.")))})}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"getIdToken",value:function(){return this.idToken}},{key:"setSession",value:function(e){var t=1e3*e.expiresIn+(new Date).getTime();localStorage.setItem("access_token",e.accessToken),localStorage.setItem("id_token",e.idToken),localStorage.setItem("expires_at",t),localStorage.setItem("sub",e.idTokenPayload.sub);var a={name:e.idTokenPayload.name,nickname:e.idTokenPayload.nickname,sub:e.idTokenPayload.sub};I.a.put("/api/users/:id",a).then(function(){S.replace("/home")}).catch(function(e){console.log(e),S.replace("/home")})}},{key:"renewSession",value:function(){this.auth0.checkSession({},function(e,t){t&&t.accessToken&&t.idToken||e&&(console.log(e),alert("Could not get a new token (".concat(e.error,": ").concat(e.error_description,").")))})}},{key:"logout",value:function(){this.auth0.logout({returnTo:window.location.origin}),localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),S.replace("/home")}},{key:"isAuthenticated",value:function(){var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e}}]),e}(),A=a(80),D=a(45),L=a.n(D),P=a(131),_=a.n(P),q=a(59),V=a.n(q),H=a(58),Y=a.n(H),J=a(132),R=a.n(J),z=a(133),U=a.n(z),F=(a(245),Object(E.createMuiTheme)({palette:{primary:{500:"#093E0A"}},typography:{useNextVariants:!0}})),W=Object(E.createMuiTheme)({palette:{primary:{main:"#9e9d24"}},typography:{useNextVariants:!0}}),X=Object(E.createMuiTheme)({palette:{primary:{main:"#1b5e20"}},typography:{useNextVariants:!0}}),Z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(e){e.preventDefault()},e.handleTitleChange=function(t){e.setState({title:t.target.value})},e.handleClueChange=function(t){return function(a){var n=e.state.clue.map(function(e,n){return t!==n?e:Object(A.a)({},e,{value:a.target.value})});e.setState({clue:n})}},e.handleCodeChange=function(t){return function(a){var n=e.state.code.map(function(e,n){return t!==n?e:Object(A.a)({},e,{value:a.target.value})});e.setState({code:n})}},e.handleAddClueandCode=function(){e.setState({clue:e.state.clue.concat([{value:""}]),code:e.state.code.concat([{value:""}])})},e.handleRemoveClueAndCode=function(t){return function(){e.setState({clue:e.state.clue.filter(function(e,a){return t!==a}),code:e.state.code.filter(function(e,a){return t!==a})})}},e.saveGame=function(t){t.preventDefault();for(var a=e.state.title,n=[],o=0;o<e.state.clue.length;o++){var r=e.state.clue[o].value,c=e.state.code[o].value;n.push({clue:r,code:c})}I.a.request({method:"get",url:"/api/users/"+window.localStorage.sub}).then(function(e){var t={title:a,game:n,createdBy:window.localStorage.sub,nickname:e.data[0].nickname};I.a.request({method:"post",url:"/api/games/",data:t}).then(function(e){console.log("here: ",e.config.data),S.replace("/home")}).catch(function(e){console.log(e)})})},e.state={title:"",clue:[{value:""}],code:[{value:""}]},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"createGame"},c.a.createElement("h1",null,"Create a Game")),c.a.createElement("div",{className:"createContainer"},c.a.createElement("div",{className:"createTitle"},"Title"),c.a.createElement("form",{onSubmit:this.saveGame,className:"form"},c.a.createElement(E.MuiThemeProvider,{theme:F},c.a.createElement(L.a,{required:!0,id:"filled-required",label:"Required",className:this.props.classes.root,margin:"normal",variant:"filled",onChange:this.handleTitleChange})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("h5",null,"Clue and Code"),this.state.clue.map(function(t,a){return c.a.createElement("div",{key:a,className:"clueinput"},c.a.createElement(E.MuiThemeProvider,{theme:F},c.a.createElement(L.a,{id:"outlined-textarea",label:"Enter clue here",multiline:!0,className:e.props.classes.root,margin:"normal",variant:"filled",placeholder:"Clue #".concat(a+1),value:e.state.clue[a].value,onChange:e.handleClueChange(a),required:!0}),c.a.createElement(L.a,{id:"outlined-textarea",label:"Enter code here",multiline:!0,className:e.props.classes.root,margin:"normal",variant:"filled",placeholder:"Code #".concat(a+1),value:e.state.code[a].value,onChange:e.handleCodeChange(a),required:!0})),c.a.createElement(_.a,{onClick:e.handleRemoveClueAndCode(a),className:"trashcanButton","aria-label":"Delete"},c.a.createElement(Y.a,null)))}),c.a.createElement(E.MuiThemeProvider,{theme:W},c.a.createElement(R.a,{color:"primary","aria-label":"Add",className:this.props.classes.fabButton,onClick:this.handleAddClueandCode,size:"small"},c.a.createElement(U.a,null))),c.a.createElement(E.MuiThemeProvider,{theme:X},c.a.createElement(b.a,{onClick:this.saveGame,variant:"contained",color:"primary",className:this.props.classes.submitButton},"Submit",c.a.createElement(V.a,{className:"newIcon"},"send")))))))}}]),t}(c.a.Component),K=Object(E.withStyles)({root:{backgroundColor:"white",marginRight:"10px"},input:{color:"black"},containedPrimary:{marginLeft:"20px"},submitButton:{marginLeft:"100px"}})(Z),Q=(a(306),{getGames:function(){return I.a.get("/api/games")},getGame:function(e){return I.a.get("/api/games/"+e)},deleteGame:function(e){return I.a.delete("/api/games/"+e)},saveGame:function(e){return I.a.post("/api/games",e)}}),$=Object(E.createMuiTheme)({palette:{primary:{500:"#7c0000"}},typography:{useNextVariants:!0}}),ee=Object(E.createMuiTheme)({palette:{primary:{main:"#00897b"}},typography:{useNextVariants:!0}}),te=Object(E.createMuiTheme)({palette:{primary:{main:"#1b5e20"}},typography:{useNextVariants:!0}}),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={cluecode:[],title:"",codesolved:0,answer:"",wrongGuess:!1},a.handleChange=function(e){a.setState({answer:e.target.value,wrongGuess:!1}),console.log(a.state.answer)},a.handleSubmitCode=function(e){e.preventDefault(),a.state.answer.toLowerCase().trim()===a.state.cluecode[a.state.codesolved].code.toLowerCase().trim()?(console.log("answer :",a.state.cluecode[a.state.codesolved].code),console.log("something: ",a.state.codesolved),a.setState({codesolved:a.state.codesolved+1,answer:"",wrongGuess:!1})):a.setState({wrongGuess:!0,answer:""})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q.getGame(this.props.match.params.id).then(function(t){console.log(t.data);var a=t.data,n=a.title,o=a.game;e.setState({title:n,cluecode:o})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"contentContainer"},c.a.createElement("h1",null,"Follow the Clue"),c.a.createElement("h1",null,"Guess the Code!"),c.a.createElement("div",{className:"gameBox"},c.a.createElement("div",{className:"titleOfGame"},this.state.title),c.a.createElement("div",{className:"playClue"},this.state.cluecode[this.state.codesolved]?this.state.cluecode[this.state.codesolved].clue:""),this.state.wrongGuess?c.a.createElement("p",null,"Wrong"):null,c.a.createElement("form",{onSubmit:this.handleSubmitCode},c.a.createElement(E.MuiThemeProvider,{theme:$},c.a.createElement(L.a,{id:"filled-with-placeholder",label:"Enter the code",placeholder:"Enter the code",className:this.props.classes.root,margin:"normal",variant:"filled",value:this.state.answer,onChange:this.handleChange})),c.a.createElement(E.MuiThemeProvider,{theme:te},c.a.createElement(b.a,{onClick:this.handleSubmitCode,variant:"contained",color:"primary",className:this.props.classes.submitButton},"Submit",c.a.createElement(V.a,{className:"newIcon"},"send"))))),c.a.createElement("div",null,c.a.createElement(v.a,{to:"/chooseGame",className:"playLink",style:{textDecoration:"none"}},c.a.createElement(E.MuiThemeProvider,{theme:ee},c.a.createElement(b.a,{variant:"contained",color:"primary",className:this.props.classes.chooseStyleButton},"Back to Choose Game")))))))}}]),t}(r.Component),ne=Object(E.withStyles)({root:{backgroundColor:"white",marginRight:"10px"},input:{color:"black"},chooseStyleButton:{marginTop:"30px"},submitButton:{marginTop:"25px"}})(ae);a(307),a(308);function oe(e){var t=e.children;return c.a.createElement("div",{className:"list-overflow-container"},c.a.createElement("ul",{className:"list-group"},t))}function re(e){var t=e.children;return c.a.createElement("li",{className:"list-group-item"},t)}function ce(e){var t=e.fluid,a=e.children;return c.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function le(e){var t=e.fluid,a=e.children;return c.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function ie(e){var t=e.size,a=e.children;return c.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}var se=a(134),ue=a.n(se),me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={games:[],title:"",date:"",nickname:""},a.loadGames=function(){Q.getGames().then(function(e){return a.setState({games:e.data})}).catch(function(e){return console.log(e)})},a.deleteGame=function(e){Q.deleteGame(e).then(function(e){return a.loadGames()}).catch(function(e){return console.log(e)})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadGames()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",{className:"container contentContainer"},c.a.createElement("h1",null,"Hunt"),c.a.createElement("div",{className:"mainChooseGame"},c.a.createElement("div",{className:"chooseGameTitle"},"Choose a game by other players"),c.a.createElement(ce,{fluid:!0},c.a.createElement(le,null,c.a.createElement(ie,{size:"md-12"},this.state.games.length?c.a.createElement(oe,null,this.state.games.map(function(t){return c.a.createElement(re,{key:t._id},c.a.createElement("div",{className:"chooseGameFlexBox"},c.a.createElement(v.a,{to:"/play/"+t._id},c.a.createElement("div",{className:"pickGameTitle"},t.title)),c.a.createElement("div",{className:"createdDiv"},"created on ",c.a.createElement(ue.a,{format:"DD/MM/YYYY"},t.date)," by ",t.nickname)),c.a.createElement(b.a,{onClick:function(){return e.deleteGame(t._id)},variant:"contained",color:"secondary",className:"chooseGameDelete"},"Delete",c.a.createElement(Y.a,{className:"chooseGameDeleteIcon"})))})):c.a.createElement("h3",null,"There are no games! Go create one!")))))))}}]),t}(r.Component),he=a(60),de=a.n(he),pe=a(79),ge=a.n(pe),ve=(a(314),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"goTo",value:function(e){this.props.history.replace("/".concat(e))}},{key:"login",value:function(){this.props.auth.login()}},{key:"logout",value:function(){this.props.auth.logout()}},{key:"componentDidMount",value:function(){var e=this.props.auth.renewSession;"true"===localStorage.getItem("isLoggedIn")&&e()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return c.a.createElement("div",{className:"navigation"},c.a.createElement(de.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},c.a.createElement(v.a,{to:"/",className:"backToStart"},"Scavenger ",c.a.createElement("i",{className:"fas fa-search"})),c.a.createElement(de.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(de.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(ge.a,{className:"mr-auto"}),c.a.createElement(ge.a,null,c.a.createElement(d.a,{variant:"dark",className:"btn-margin startButton",onClick:this.goTo.bind(this,"home")},"Home"),!e()&&c.a.createElement(d.a,{id:"qsLoginBtn",variant:"dark",className:"btn-margin loginButton",onClick:this.login.bind(this)},"Log In"),e()&&c.a.createElement(d.a,{id:"qsLogoutBtn",variant:"dark",className:"btn-margin logoutButton",onClick:this.logout.bind(this)},"Log Out")))))}}]),t}(r.Component)),fe=new M,be=c.a.createElement(l.b,{history:S},c.a.createElement("div",null,c.a.createElement(ve,{auth:fe,history:S}),c.a.createElement(l.a,{exact:!0,path:"/",render:function(e){return c.a.createElement(g,Object.assign({auth:fe},e))}}),c.a.createElement(l.a,{path:"/home",render:function(e){return c.a.createElement(N,Object.assign({auth:fe},e))}}),c.a.createElement(l.a,{path:"/callback",render:function(e){return function(e){var t=e.location;/access_token|id_token|error/.test(t.hash)&&fe.handleAuthentication()}(e),c.a.createElement(T,e)}}),c.a.createElement(l.a,{exact:!0,path:"/create",render:function(e){return c.a.createElement(K,Object.assign({auth:fe},e))}}),c.a.createElement(l.a,{exact:!0,path:"/play/:id",render:function(e){return c.a.createElement(ne,Object.assign({auth:fe},e))}}),c.a.createElement(l.a,{exact:!0,path:"/choosegame",render:function(e){return c.a.createElement(me,Object.assign({auth:fe},e))}})));o.a.render(be,document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.313674eb.chunk.js.map